<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Enter Otp</title>


    <!-- stylesheet links -->

    <!-- <link rel="stylesheet" type="text/css" href="/assets/css/login.css"> -->

    <link rel="stylesheet" type="text/css" href="/assets/css/user/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="/assets/css/user/font-awesome.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="/assets/css/user/templatemo-hexashop.css">

    <link rel="stylesheet" href="/assets/css/user/owl-carousel.css">

    <link rel="stylesheet" href="/assets/css/user/lightbox.css">

    <link rel="stylesheet" href="/assets/css/user/login.css">


    <!-- OTP-Container cdn-links -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">

</head>

<body>


    <!-- ***** Header Area Start ***** -->
    <%- include('../../views/user/navbar.ejs') %>
    <!-- ***** Header Area End ***** -->

    <!-- Number submition container starts here.... -->


    <div class="container-fluid Container-1">
        <div class="row">
            <div class="col-lg-7 con-1">
                <div class="col-12 btnBackCol">
                    <br>
                    <a href="/forgotpassword" class="backBtn">
                        <i class="fa-solid fa-angle-left" style="color: #050505;"></i> <span>Back</span>
                    </a>
                </div>
                <div class="col-12 col2">
                     <p id="timer" class="timer "><span id="countdown">2:00</span></p>
                     <div class="position-relative otpContainer">
                        <div class="card p-2 text-center">
                            <h6>Please enter the one time password <br> to verify your account</h6>
                            <div class="showL-4number"> <span>A code has been sent to</span>
                                <small>*******9897</small>
                            </div>

                            <form action="/forgotEnterOtp" method="post">
                                <div id="otp" class="inputs d-flex flex-row justify-content-center mt-2">
                                    <input class="m-2 text-center form-control rounded " name="otp1" type="text"
                                        id="first" maxlength="1" />
                                    <input class="m-2 text-center form-control rounded" name="otp2" type="text"
                                        id="second" maxlength="1" />
                                    <input class="m-2 text-center form-control rounded" name="otp3" type="text"
                                        id="third" maxlength="1" />
                                    <input class="m-2 text-center form-control rounded" name="otp4" type="text"
                                        id="fourth" maxlength="1" />
                                    <input class="m-2 text-center form-control rounded" name="otp5" type="text"
                                        id="fifth" maxlength="1" />
                                    <input class="m-2 text-center form-control rounded" name="otp6" type="text"
                                        id="sixth" maxlength="1" />
                                </div>
                                <p><%=message%></p>
                                <div class="mt-4">
                                    <button type="submit" class="btn btn-danger px-4 validate">Validate</button>
                                </div>
                            </form>
                        </div>
                        <div class="card-2 ">
                            <form action="/resendOtp" method="post">
                                <div class="content d-flex justify-content-center align-items-center ">
                                    <span>Didn't get the code</span>
                                    <button class="bntResend" type="submit"> <a class="text-decoration-none ms-3">Resend</a></button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-5 col1 background-image">
                
            </div>
        </div>
    </div>

    
    <!-- Number submition container End here.... -->

<!-- eFooter starts here... -->
<%- include('../../views/user/footer.ejs') %>
<!-- Footer end  here... -->


    <script>
        var timer;
        var minutes = 2;
        var seconds = 0;

        function startTimer() {
            timer = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            var countdownElement = document.getElementById('countdown');

            if (minutes === 0 && seconds === 0) {
                clearInterval(timer);
                // You can add additional logic here when the timer reaches 0
                countdownElement.textContent = '0:00';
            } else {
                if (seconds === 0) {
                    minutes--;
                    seconds = 59;
                } else {
                    seconds--;
                }

                var secondsString = seconds < 10 ? '0' + seconds : seconds;
                countdownElement.textContent = minutes + ':' + secondsString;
            }
        }

        function resendOTP() {
            // Add your OTP resend logic here
            // For now, let's just reset the timer
            clearInterval(timer);
            minutes = 2;
            seconds = 0;
            document.getElementById('countdown').textContent = '2:00';
            startTimer();
        }

        // Start the timer when the page loads
        window.onload = startTimer;
    </script>



    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <!-- Plugins -->
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/accordions.js"></script>
    <script src="assets/js/datepicker.js"></script>
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/imgfix.min.js"></script>
    <script src="assets/js/slick.js"></script>
    <script src="assets/js/lightbox.js"></script>
    <script src="assets/js/isotope.js"></script>

    <!-- Global Init -->
    <script src="assets/js/custom.js"></script>

    <!-- OTP-Container javascript -->

    <script>



        document.addEventListener("DOMContentLoaded", function (event) {

            function OTPInput() {
                const inputs = document.querySelectorAll('#otp > *[id]');
                for (let i = 0; i < inputs.length; i++) {
                    inputs[i].addEventListener('keydown', function (event) {
                        if (event.key === "Backspace") {
                            inputs[i].value = ''; if (i !== 0) inputs[i - 1].focus();
                        } else {
                            if (i === inputs.length - 1 && inputs[i].value !== '') { return true; }
                            else if (event.keyCode > 47 && event.keyCode < 58) {
                                inputs[i].value = event.key;
                                if (i !== inputs.length - 1)
                                    inputs[i + 1].focus(); event.preventDefault();
                            } else if (event.keyCode > 64 && event.keyCode < 91) {
                                inputs[i].value = String.fromCharCode(event.keyCode);
                                if (i !== inputs.length - 1) inputs[i + 1].focus();
                                event.preventDefault();
                            }
                        }
                    });
                }
            }
            OTPInput();


        });
    </script>
</body>

</html>